---
milestone: v2.0
audited: 2026-03-01
status: gaps_found
scores:
  requirements: 19/42
  phases: 5/7 (Phases 10-12 unstarted)
  integration: 19/19 (completed requirements fully wired)
  flows: 5/5 (all completed E2E flows work)
gaps:
  requirements:
    - id: "SPEC-01"
      status: "unsatisfied"
      phase: "Phase 10: Specialist Agents"
      claimed_by_plans: []
      completed_by_plans: []
      verification_status: "missing"
      evidence: "Phase 10 has no plans — not started"
    - id: "SPEC-02"
      status: "unsatisfied"
      phase: "Phase 10: Specialist Agents"
      claimed_by_plans: []
      completed_by_plans: []
      verification_status: "missing"
      evidence: "Phase 10 has no plans — not started"
    - id: "SPEC-03"
      status: "unsatisfied"
      phase: "Phase 10: Specialist Agents"
      claimed_by_plans: []
      completed_by_plans: []
      verification_status: "missing"
      evidence: "Phase 10 has no plans — not started"
    - id: "SPEC-04"
      status: "unsatisfied"
      phase: "Phase 10: Specialist Agents"
      claimed_by_plans: []
      completed_by_plans: []
      verification_status: "missing"
      evidence: "Phase 10 has no plans — not started"
    - id: "SPEC-05"
      status: "unsatisfied"
      phase: "Phase 10: Specialist Agents"
      claimed_by_plans: []
      completed_by_plans: []
      verification_status: "missing"
      evidence: "Phase 10 has no plans — not started"
    - id: "SPEC-06"
      status: "unsatisfied"
      phase: "Phase 10: Specialist Agents"
      claimed_by_plans: []
      completed_by_plans: []
      verification_status: "missing"
      evidence: "Phase 10 has no plans — not started"
    - id: "PUSH-01"
      status: "unsatisfied"
      phase: "Phase 11: Push Notifications"
      claimed_by_plans: []
      completed_by_plans: []
      verification_status: "missing"
      evidence: "Phase 11 has no plans — not started"
    - id: "PUSH-02"
      status: "unsatisfied"
      phase: "Phase 11: Push Notifications"
      claimed_by_plans: []
      completed_by_plans: []
      verification_status: "missing"
      evidence: "Phase 11 has no plans — not started"
    - id: "PUSH-03"
      status: "unsatisfied"
      phase: "Phase 11: Push Notifications"
      claimed_by_plans: []
      completed_by_plans: []
      verification_status: "missing"
      evidence: "Phase 11 has no plans — not started"
    - id: "PUSH-04"
      status: "unsatisfied"
      phase: "Phase 11: Push Notifications"
      claimed_by_plans: []
      completed_by_plans: []
      verification_status: "missing"
      evidence: "Phase 11 has no plans — not started"
    - id: "PUSH-05"
      status: "unsatisfied"
      phase: "Phase 11: Push Notifications"
      claimed_by_plans: []
      completed_by_plans: []
      verification_status: "missing"
      evidence: "Phase 11 has no plans — not started"
    - id: "PUSH-06"
      status: "unsatisfied"
      phase: "Phase 11: Push Notifications"
      claimed_by_plans: []
      completed_by_plans: []
      verification_status: "missing"
      evidence: "Phase 11 has no plans — not started"
    - id: "PUSH-07"
      status: "unsatisfied"
      phase: "Phase 11: Push Notifications"
      claimed_by_plans: []
      completed_by_plans: []
      verification_status: "missing"
      evidence: "Phase 11 has no plans — not started"
    - id: "PUSH-08"
      status: "unsatisfied"
      phase: "Phase 11: Push Notifications"
      claimed_by_plans: []
      completed_by_plans: []
      verification_status: "missing"
      evidence: "Phase 11 has no plans — not started"
    - id: "SCHED-01"
      status: "unsatisfied"
      phase: "Phase 12: Proactive Scheduling and Deployment"
      claimed_by_plans: []
      completed_by_plans: []
      verification_status: "missing"
      evidence: "Phase 12 has no plans — not started"
    - id: "SCHED-02"
      status: "unsatisfied"
      phase: "Phase 12: Proactive Scheduling and Deployment"
      claimed_by_plans: []
      completed_by_plans: []
      verification_status: "missing"
      evidence: "Phase 12 has no plans — not started"
    - id: "SCHED-03"
      status: "unsatisfied"
      phase: "Phase 12: Proactive Scheduling and Deployment"
      claimed_by_plans: []
      completed_by_plans: []
      verification_status: "missing"
      evidence: "Phase 12 has no plans — not started"
    - id: "SCHED-04"
      status: "unsatisfied"
      phase: "Phase 12: Proactive Scheduling and Deployment"
      claimed_by_plans: []
      completed_by_plans: []
      verification_status: "missing"
      evidence: "Phase 12 has no plans — not started"
    - id: "SCHED-05"
      status: "unsatisfied"
      phase: "Phase 12: Proactive Scheduling and Deployment"
      claimed_by_plans: []
      completed_by_plans: []
      verification_status: "missing"
      evidence: "Phase 12 has no plans — not started"
    - id: "SCHED-06"
      status: "unsatisfied"
      phase: "Phase 12: Proactive Scheduling and Deployment"
      claimed_by_plans: []
      completed_by_plans: []
      verification_status: "missing"
      evidence: "Phase 12 has no plans — not started"
    - id: "DPLY-01"
      status: "unsatisfied"
      phase: "Phase 12: Proactive Scheduling and Deployment"
      claimed_by_plans: []
      completed_by_plans: []
      verification_status: "missing"
      evidence: "Phase 12 has no plans — not started"
    - id: "DPLY-02"
      status: "unsatisfied"
      phase: "Phase 12: Proactive Scheduling and Deployment"
      claimed_by_plans: []
      completed_by_plans: []
      verification_status: "missing"
      evidence: "Phase 12 has no plans — not started"
    - id: "DPLY-03"
      status: "unsatisfied"
      phase: "Phase 11: Push Notifications"
      claimed_by_plans: []
      completed_by_plans: []
      verification_status: "missing"
      evidence: "Phase 11 has no plans — not started"
  integration: []
  flows: []
tech_debt:
  - phase: 07-classifier-agent-baseline
    items:
      - "REQUIREMENTS.md text for AGNT-02 references obsolete tool names (classify_and_file, request_misunderstood, mark_as_junk) — actual implementation uses single file_capture tool with status parameter"
  - phase: 08-foundrysseadapter-and-streaming
    items:
      - "Edge case: no-tool-call unresolved fallback emits UNRESOLVED with empty inboxItemId — mobile guard silently drops it; mobile may appear hung in rare edge case"
  - phase: 09.1-mobile-ux-review-and-refinements
    items:
      - "conversation/[threadId].tsx is unreachable dead code — registered in _layout.tsx but no navigation path leads to it after Phase 09.1 deleted capture/text.tsx"
      - "Backend bug fix (same-bucket recategorize pending→classified, commit 178a43e) committed but pending CI/CD deployment"
  - phase: 06-foundry-infrastructure
    items:
      - "Pre-existing E501 line-length ruff errors in classifier.py and classification.py (deferred in Phase 6)"
---

# v2.0 Milestone Audit: Proactive Second Brain

**Audited:** 2026-03-01
**Status:** gaps_found
**Milestone Goal:** Transform the Second Brain from a filing cabinet into a proactive thinking partner — rebuilt on Foundry Agent Service with four specialist agents that follow up over time via push notifications.

## Requirements Coverage

**Score: 19/42 satisfied (45%)**

| Category | Total | Satisfied | Unsatisfied | Notes |
|----------|-------|-----------|-------------|-------|
| Infrastructure (INFRA) | 5 | 5 | 0 | Phase 6 — all verified |
| Agent Migration (AGNT) | 6 | 6 | 0 | Phases 6-7 — all verified |
| Streaming (STRM) | 3 | 3 | 0 | Phase 8 — all verified |
| HITL Parity (HITL) | 3 | 3 | 0 | Phase 9 — all verified |
| Observability (OBSV) | 2 | 2 | 0 | Phase 9 — all verified |
| Specialist Agents (SPEC) | 6 | 0 | 6 | Phase 10 — NOT STARTED |
| Push Notifications (PUSH) | 8 | 0 | 8 | Phase 11 — NOT STARTED |
| Proactive Scheduling (SCHED) | 6 | 0 | 6 | Phase 12 — NOT STARTED |
| Deployment (DPLY) | 3 | 0 | 3 | Phase 12 — NOT STARTED |

### Satisfied Requirements (19)

All 19 satisfied requirements have 3-source confirmation:
- VERIFICATION.md: status verified (code checks pass)
- SUMMARY.md frontmatter: listed in `requirements-completed`
- REQUIREMENTS.md traceability: checked `[x]`

| Requirement | Phase | VERIFICATION | SUMMARY | REQUIREMENTS |
|-------------|-------|-------------|---------|--------------|
| INFRA-10 | 6 | verified | listed | [x] |
| INFRA-11 | 6 | verified | listed | [x] |
| INFRA-12 | 6 | human_needed | listed | [x] |
| INFRA-13 | 6 | verified | listed | [x] |
| INFRA-14 | 6 | verified | listed | [x] |
| AGNT-01 | 7 | verified | listed | [x] |
| AGNT-02 | 7 | verified | listed | [x] |
| AGNT-03 | 7 | verified | listed | [x] |
| AGNT-04 | 6 | verified | listed | [x] |
| AGNT-05 | 7 | verified | listed | [x] |
| AGNT-06 | 7 | verified | listed | [x] |
| STRM-01 | 8 | verified | listed | [x] |
| STRM-02 | 8 | verified | listed | [x] |
| STRM-03 | 8 | verified | listed | [x] |
| HITL-01 | 9 | verified | listed | [x] |
| HITL-02 | 9 | verified | listed | [x] |
| HITL-03 | 9 | verified | listed | [x] |
| OBSV-01 | 9 | verified | listed | [x] |
| OBSV-02 | 9 | verified | listed | [x] |

### Unsatisfied Requirements (23)

All 23 unsatisfied requirements are in unstarted phases — no code exists.

| Requirement | Phase | Reason |
|-------------|-------|--------|
| SPEC-01 through SPEC-06 | Phase 10 | Not started |
| PUSH-01 through PUSH-08 | Phase 11 | Not started |
| SCHED-01 through SCHED-06 | Phase 12 | Not started |
| DPLY-01 through DPLY-03 | Phase 12 | Not started |

## Phase Status

| Phase | Status | Verification | Plans | Requirements |
|-------|--------|-------------|-------|-------------|
| 6. Foundry Infrastructure | Complete | human_needed (11/14) | 3/3 | 6/6 |
| 7. Classifier Agent Baseline | Complete | human_needed (4/4) | 2/2 | 6/6 |
| 8. FoundrySSEAdapter and Streaming | Complete | human_needed (9/10) | 2/2 | 3/3 |
| 9. HITL Parity and Observability | Complete | human_needed (14/14) | 6/7 | 5/5 |
| 9.1. Mobile UX Review | Complete | passed (8/8) | 2/2 | 5/5 (phase-internal) |
| 10. Specialist Agents | NOT STARTED | — | 0/TBD | 0/6 |
| 11. Push Notifications | NOT STARTED | — | 0/TBD | 0/8 |
| 12. Proactive Scheduling | NOT STARTED | — | 0/TBD | 0/9 |

## Cross-Phase Integration

**Score: 19/19 completed requirements fully wired**

All completed requirements have verified cross-phase integration:
- Foundry SDK (Phase 6) → Classifier agent (Phase 7) → SSE streaming (Phase 8) → HITL parity (Phase 9) → Unified capture screen (Phase 9.1)
- All 6 API routes consumed by mobile callers
- All routes auth-protected via global APIKeyMiddleware
- 5/5 E2E flows traced without breaks

### Integration Findings (Non-Blocking)

1. **conversation/[threadId].tsx is dead code** — registered in `_layout.tsx` but unreachable after Phase 09.1 deleted the navigation path. HITL flows work via inline modals.
2. **CosmosCrudTools orphaned** — pre-built for Phase 10 specialist agents, not wired in production. Not a bug.
3. **AGNT-02 spec text drift** — requirement names `classify_and_file`/`request_misunderstood`/`mark_as_junk` but implementation uses single `file_capture` tool. Functional intent met.

## E2E Flows

**Score: 5/5 complete**

| Flow | Status | Notes |
|------|--------|-------|
| Text Capture (happy path) | Complete | index.tsx → sendCapture → /api/capture → Foundry → Cosmos |
| Voice Capture | Complete | index.tsx → sendVoiceCapture → /api/capture/voice → Blob → transcribe → classify |
| Misunderstood Follow-Up | Complete | In-place update via ContextVar — no orphan docs |
| Low-Confidence Bucket Selection | Complete | Same-bucket fix deployed (178a43e) |
| Inbox Review and Recategorize | Complete | Detail card with bucket buttons |

## Tech Debt

**5 items across 4 phases** (none blocking)

| Phase | Item |
|-------|------|
| 6 | Pre-existing E501 line-length ruff errors (deferred) |
| 7 | REQUIREMENTS.md text references obsolete tool names for AGNT-02 |
| 8 | Edge case: no-tool-call unresolved may leave mobile appearing hung |
| 9.1 | conversation/[threadId].tsx is unreachable dead code |
| 9.1 | Backend pending→classified fix committed but pending deployment |

## Open Items

- **Phase 9, Plan 09-07** incomplete (follow-up orphan in-place update) — however the underlying bug is already fixed by existing code (ContextVar approach from Plan 09-06). The plan may be redundant.
- **Phase 09.1 plan checkboxes** not updated in ROADMAP.md (shows `[ ]` but summaries exist).
